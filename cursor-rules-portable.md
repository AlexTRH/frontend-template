# Cursor Rules (portable)

Универсальные правила для AI-ассистента при разработке фронтенда. Скопируй в другой проект и при необходимости подстрой под стек и конвенции.

---

ии в коде сохранять; удалять только если стали неактуальны после правок.

Разрешено: самодокументируемый код, понятные имена, JSDoc только для публичных API, временные TODO для отладки.

---

### Стек (comet-release)

Генерировать код с использованием: **React 19** + **TypeScript** + **Vite** + **Tailwind CSS** + **shadcn/ui** (Radix) + **TanStack Query** + **Zustand** + **custom fetch** (`shared/lib/fetch`).

Формы: **React Hook Form** + **Yup** (резолвер `@hookform/resolvers/yup`). HTTP: типизированный клиент в `shared/lib/fetch` (customFetch/customFetchJson), interceptors для auth. Не использовать axios, ky, Zod.
nversion)

---

## Именование

- Компоненты: **Pas**При генерации кода запрещено добавлять поясняющие комментарии.\*\*

Разрешено:

- Чистый, самодокументируемый код
- Понятные имена переменных и функций
- JSDoc только для публичных API
- Временные TODO только для отладки

Если код нуждается в комментарии — переписать так, чтобы было понятно без него.
, без `any` без веской причины

- Типы в `model/types.ts` (или аналог) по слоям
- `type` для алias-типов, `interface` для расширяемых объектов
- `as const` для константных объектов и литералов
- Props всегда типизированы интерфейсами

---

## Архитектура (Feature-Sliced Design)

- **app/** — инициализация, провайдеры, глобальные стили
- **pages/** — композиция страниц из features/widgets
- **widgets/** — крупные блоки UI
- **features/** — функциональные модули
- **entities/** — бизнес-сущности
- **shared/** — компоненты, утилиты, константы

Импорты: только вниз по слоям (shared ← entities ← features ← widgets ← pages ← app).

**Алиасы путей**: `@app/*`, `@pages/*`, `@shared/*`, `@entities/*`, `@features/*`, `@widgets/*` (или `@/*` → src). Не тащить длинные относительные пути.

**Слайс** (entities/features/widgets): `index.ts` (barrel), `model/` (types, schema, store), `api/`, `hooks/`, `ui/` или корневые `*.tsx`, `config/`, `lib/`. Публичный## Архитектура (опционально: Feature-Sliced Design)

- **app/** — инициализация, провайдеры, глобальные стили
- **pages/** — композиция страниц из features/widgets
- **widgets/** — крупные блоки UI
- **features/** — функциональные модули
- **entities/** — бизнес-сущности
- **shared/** — компоненты, утилиты, константы

Импорты: только вниз по слоям (shared ← entities ← features ← widgets ← pages ← app).
имости

---

## Доступность и безопасность

- Семантичная разметка, ARIA где нужно, навигация с клавиатуры
- Не использовать `dangerouslySetInnerHTML` с пользовательским вводом
- Валидация и сани- **Формы:** React Hook Form + Zod
- Context — только для темы/локали/редких глобальных вещей, не для данных и UI-флагов

API: один базовый клиент (axios/ky), interceptors для auth и общих заголовков, типизированные функции на каждый endpoint.
ке — конвертация.

- **Даты:** UTC, ISO 8601 с миллисекундами (`YYYY-MM-DDTHH:mm:ss.sssZ`). Отображение — в локальной таймзоне пользователя.
- **Заголовки:** при необходимости общий заголовок контекста (например `x-location-name`, `x-tenant-id`) — задавать в interceptors из store/контекста.

Если в проекте не используются — удали или закомментируй этот блок.

---

## Git и коммиты

- Conventional Commits: `feat:`, `fix:`, `docs:`, `refa- Валидация и санитизация на входе (Zod + при необходимости санитизация строк)
e/`, `fix/`, `refactor/`

---

## Тестирование

- Критичную бизнес-логику покрывать юнит-тестами
- API в тестах мокать (MSW или аналог)
- Интеграционные сценарии для ключевых потоков (форма → отправка → результат)

---

## Производительность

- `useMemo` для тяжёлых вычислений, `useCallback` для колбэков в пропсах
- Виртуализация длинных списков
- Динамические импорты для тяжёлых страниц/модалок
- В Query: адекватные `staleTime`/`gcTime`, при необходимости `select` и `placeholderData` для плавного UX

---

_Скопируй этот файл в корень или в `.cursor/` другого проекта и при необходимости переименуй/дополни под свой стек и конвенции._
