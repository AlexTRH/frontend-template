---
description: Tech stack, state, API, forms, errors
alwaysApply: true
---

# Stack & Data

**Stack**: React, TypeScript, Vite, Tailwind, shadcn (Radix), TanStack Query, Zustand, React Hook Form + **Zod**, **axios**. Vitest + Testing Library. MSW for API mocks. Универсальный стек; архитектура и компоненты — по образцу reference-проекта (comet-release), чтобы стажёры/бэкендеры и внутренние проекты имели один костяк и дизайн.

**Server state**: TanStack Query. Query keys — constants, structured arrays. Typed API functions per endpoint.

**Client state**: Zustand (modals, filters, selection). No React Context for data or UI flags (only theme/locale if needed).

**Forms**: React Hook Form + Zod. Resolver: `zodResolver` from `@hookform/resolvers/zod`. Schemas in slice `model/schema.ts`, types via `z.infer<typeof schema>`.

**API**: One axios instance (e.g. in `shared/api` or `shared/lib/axios`). Interceptors for auth and common headers. Typed wrappers per endpoint.

**Errors**: Typed errors; Error Boundary for UI; retry/fallback UI where appropriate. Form: backend errors on fields + optional toast.
